<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MiniRevolut</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#06b6d4">
  <style>
    :root{--bg:#f5f9fb;--card:#fff;--accent:#06b6d4;--muted:#6b7280;--success:#10b981;--danger:#ef4444;font-family:Inter, system-ui, Arial, sans-serif}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#0f172a;padding:18px;display:flex;justify-content:center;min-height:100vh}
    .app{width:100%;max-width:980px;background:var(--card);border-radius:14px;padding:18px;box-shadow:0 6px 18px rgba(2,6,23,0.06)}
    header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    h1{margin:0;font-size:18px}
    .total{font-weight:700;font-size:20px;color:var(--accent)}
    .tabs{display:flex;gap:8px;margin:10px 0 14px}
    .tab{padding:8px 12px;border-radius:10px;cursor:pointer;border:1px solid rgba(15,23,42,0.04);background:transparent}
    .tab.active{background:linear-gradient(180deg,rgba(6,182,212,0.12),rgba(6,182,212,0.08));border-color:rgba(6,182,212,0.25)}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .card{background:#fff;padding:12px;border-radius:10px;border:1px solid rgba(15,23,42,0.04)}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input[type="text"],input[type="number"]{width:100%;padding:9px;border-radius:8px;border:1px solid #e6edf2;font-size:14px}
    .controls{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
    button{cursor:pointer;border:0;padding:9px 12px;border-radius:10px;font-weight:600}
    .btn-primary{background:var(--accent);color:white}
    .btn-danger{background:var(--danger);color:white}
    .btn-accent{background:transparent;border:1px solid var(--accent);color:var(--accent)}
    .transactions{max-height:360px;overflow:auto;margin-top:10px}
    .tx{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:10px;border:1px solid rgba(15,23,42,0.04);margin-bottom:8px;background:#fff}
    .tx .left{max-width:68%}
    .tx .title{font-weight:600}
    .tx .meta{font-size:12px;color:var(--muted);margin-top:4px}
    .amt.plus{color:var(--success);font-weight:700}
    .amt.minus{color:var(--danger);font-weight:700}
    .muted{color:var(--muted);font-size:13px}
    .footer{font-size:12px;color:var(--muted);text-align:center;margin-top:12px}
    @media(max-width:800px){.grid{grid-template-columns:1fr}}
  </style>
  <link rel="icon" href="icon-192.svg">
</head>
<body>
  <div class="app" role="application" aria-label="MiniRevolut PWA">
    <header>
      <div><h1>MiniRevolut</h1><div class="muted">Portofel - RON</div></div>
      <div style="text-align:right">
        <div class="muted small">Total</div>
        <div id="totalAll" class="total">0,00 lei</div>
      </div>
    </header>

    <div class="tabs" role="tablist">
      <div class="tab active" data-tab="card" role="tab" aria-selected="true">Card</div>
      <div class="tab" data-tab="cash" role="tab" aria-selected="false">Cash</div>
    </div>

    <div class="grid">
      <div class="card" aria-labelledby="account-area">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><div class="muted">Cont</div><div id="pageTitle" style="font-weight:700">Card</div></div>
          <div class="muted small">Salvare locală</div>
        </div>

        <label for="amount" style="margin-top:12px">Sumă (lei)</label>
        <input id="amount" type="number" step="0.01" placeholder="ex: 600.00" />

        <label for="source" style="margin-top:10px">Sursă</label>
        <input id="source" type="text" placeholder="card, sticle reciclate..." />

        <label for="note" style="margin-top:10px">Notă (opțional)</label>
        <input id="note" type="text" placeholder="ex: salariu, cadou..." />

        <div class="controls" style="margin-top:12px">
          <button id="addBtn" class="btn-primary">Adaugă (+)</button>
          <button id="removeBtn" class="btn-danger">Scoate (−)</button>
          <button id="resetBtn" class="btn-accent">Reset câmpuri</button>
          <div style="flex:1"></div>
          <input id="filter" placeholder="Caută..." class="muted small" style="padding:8px;border-radius:8px;border:1px solid #e6edf2"/>
        </div>
      </div>

      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><div class="muted">Tranzacții</div><div id="txCount" style="font-weight:700">0</div></div>
          <div style="display:flex;gap:8px;align-items:center">
            <button id="exportBtn" class="btn-accent">Export CSV</button>
            <button id="clearAllBtn" class="muted small">Șterge tot</button>
          </div>
        </div>

        <div class="transactions" id="txList" aria-live="polite" role="list" style="margin-top:10px"></div>
      </div>
    </div>

    <div class="footer">MiniRevolut demo — nu folosi pentru conturi reale.</div>
  </div>

  <script src="app.js"></script>
  <script>
    // install prompt helper (optional UX)
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => { e.preventDefault(); deferredPrompt = e; /* Could show iinstall button */ });
    // simple accessibility: focus first input
    document.getElementById('amount').focus();
  </script>
</body>
</html>
